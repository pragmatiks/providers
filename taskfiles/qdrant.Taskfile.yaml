version: "3"

tasks:
  format:
    cmd: env -u VIRTUAL_ENV uv run ruff format .
    desc: Format Python code with ruff

  check:
    desc: Check Python code with ruff and ty
    cmds:
      - env -u VIRTUAL_ENV uv run ruff check --fix .
      - env -u VIRTUAL_ENV uv run ty check src/

  test:
    cmd: env -u VIRTUAL_ENV uv run pytest tests/ --cov=qdrant_provider --cov-report=term-missing {{.CLI_ARGS}}
    desc: Run all tests with coverage
